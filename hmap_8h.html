<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Thư viện cgen: hmap.h File Tham chiếu</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Thư viện cgen
   </div>
   <div id="projectbrief">Triển khai khái quát của các cấu trúc dữ liệu và giải thuật cho lập trình C</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Được biên soạn bởi Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Tìm kiếm','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Tìm kiếm');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Cấu trúc cơ sở dữ liệu</a> &#124;
<a href="#define-members">Định nghĩa</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Các hàm</a>  </div>
  <div class="headertitle"><div class="title">hmap.h File Tham chiếu</div></div>
</div><!--header-->
<div class="contents">

<p>Bảng băm khái quát với khóa &amp; giá trị kểu <a class="el" href="gtype_8h.html#a22df69f0a905ba3f8c833d29b2adfa46">gtype</a>.  
<a href="#details">Tiếp...</a></p>
<div class="textblock"><code>#include &quot;base/arr.h&quot;</code><br />
<code>#include &quot;<a class="el" href="gtype_8h_source.html">base/gtype.h</a>&quot;</code><br />
<code>#include &quot;base/hashes.h&quot;</code><br />
<code>#include &lt;stdint.h&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Kèm theo graph phụ thuộc cho hmap.h:</div>
<div class="dyncontent">
<div class="center"><img src="hmap_8h__incl.png" border="0" usemap="#ahmap_8h" alt=""/></div>
<map name="ahmap_8h" id="ahmap_8h">
<area shape="rect" title="Bảng băm khái quát với khóa &amp; giá trị kểu gtype." alt="" coords="135,5,199,32"/>
<area shape="rect" href="arr_8h_source.html" title=" " alt="" coords="5,80,84,107"/>
<area shape="rect" href="gtype_8h.html" title="Định nghĩa kiểu gtype và các thành phần bổ trợ." alt="" coords="83,155,177,181"/>
<area shape="rect" href="hashes_8h_source.html" title=" " alt="" coords="159,80,266,107"/>
<area shape="rect" title=" " alt="" coords="237,155,301,181"/>
<area shape="rect" title=" " alt="" coords="13,229,76,256"/>
<area shape="rect" title=" " alt="" coords="100,229,160,256"/>
<area shape="rect" title=" " alt="" coords="185,229,249,256"/>
</map>
</div>
</div><div class="textblock"><div class="dynheader">
Đồ thị này biểu thị những file nào trực tiếp hoặckhông trực tiếp bao gồm file này:</div>
<div class="dyncontent">
<div class="center"><img src="hmap_8h__dep__incl.png" border="0" usemap="#ahmap_8hdep" alt=""/></div>
<map name="ahmap_8hdep" id="ahmap_8hdep">
<area shape="rect" title="Bảng băm khái quát với khóa &amp; giá trị kểu gtype." alt="" coords="5,5,69,32"/>
<area shape="rect" href="cgen_8h_source.html" title=" " alt="" coords="7,80,67,107"/>
</map>
</div>
</div>
<p><a href="hmap_8h_source.html">Tới mã nguồn của file này.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Cấu trúc cơ sở dữ liệu</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structhash__map.html">hash_map</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structhmap__insert__result.html">hmap_insert_result</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Định nghĩa</h2></td></tr>
<tr class="memitem:a6567f6c8da98e8fcd12480dec2a94241"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hmap_8h.html#a6567f6c8da98e8fcd12480dec2a94241">hmap_size</a>(tab)&#160;&#160;&#160;(tab-&gt;size)</td></tr>
<tr class="separator:a6567f6c8da98e8fcd12480dec2a94241"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aafdcb9f6bab54257cb101246b730bf49"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hmap_8h.html#aafdcb9f6bab54257cb101246b730bf49">hmap_free</a>(tab)</td></tr>
<tr class="separator:aafdcb9f6bab54257cb101246b730bf49"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad047126ca123a447c578be5b328f43de"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hmap_8h.html#ad047126ca123a447c578be5b328f43de">hmap_traverse</a>(key,  value,  map)</td></tr>
<tr class="separator:ad047126ca123a447c578be5b328f43de"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="typedef-members" name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a60bbc23f7cdd178d7b190a7a71744fae"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structhash__map.html">hash_map</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hmap_8h.html#a60bbc23f7cdd178d7b190a7a71744fae">hmap_s</a></td></tr>
<tr class="separator:a60bbc23f7cdd178d7b190a7a71744fae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6ee48932dfc13546a3f665f60b5fa08"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structhmap__insert__result.html">hmap_insert_result</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hmap_8h.html#ad6ee48932dfc13546a3f665f60b5fa08">hmap_ires</a></td></tr>
<tr class="separator:ad6ee48932dfc13546a3f665f60b5fa08"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Các hàm</h2></td></tr>
<tr class="memitem:a6ad0aeae30cec73fdbf3262ed0061183"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hmap_8h.html#a6ad0aeae30cec73fdbf3262ed0061183">hmap_clear</a> (<a class="el" href="structhash__map.html">hmap_t</a> tab)</td></tr>
<tr class="separator:a6ad0aeae30cec73fdbf3262ed0061183"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17f8fb3aa19641419c5a383cb68ab481"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hmap_8h.html#a17f8fb3aa19641419c5a383cb68ab481">gtype_free_hmap</a> (<a class="el" href="gtype_8h.html#a22df69f0a905ba3f8c833d29b2adfa46">gtype</a> value)</td></tr>
<tr class="separator:a17f8fb3aa19641419c5a383cb68ab481"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Mô tả chi tiết</h2>
<div class="textblock"><p >Bảng băm khái quát với khóa &amp; giá trị kểu <a class="el" href="gtype_8h.html#a22df69f0a905ba3f8c833d29b2adfa46">gtype</a>. </p>
<p >Bảng băm là 1 dạng ánh xạ khóa =&gt; giá trị dựa trên hàm băm. Trong triển khai này dữ liệu được lưu trong 1 mảng cấp phát động. Xung đột chỉ số (khi 2 khóa khác nhau được quy chiếu về cùng 1 chỉ số) trong triển khai này được xử lý theo cơ chế địa chỉ mở (Open addressing). </p>
</div><h2 class="groupheader">Thông tin về định nghĩa</h2>
<a id="aafdcb9f6bab54257cb101246b730bf49" name="aafdcb9f6bab54257cb101246b730bf49"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aafdcb9f6bab54257cb101246b730bf49">&#9670;&nbsp;</a></span>hmap_free</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define hmap_free</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">tab</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Giá trị:</b><div class="fragment"><div class="line">  <span class="keywordflow">do</span> { \</div>
<div class="line">    int _capacity = (tab)-&gt;capacity; \</div>
<div class="line">    gtype *_keys = ARR((tab)-&gt;keys); \</div>
<div class="line">    gtype *_values = ARR((tab)-&gt;values); \</div>
<div class="line">    uint *_hashes = ARR((tab)-&gt;hashes); \</div>
<div class="line">    for (<span class="keywordtype">int</span> _i = 0; _i &lt; _capacity; ++_i) { \</div>
<div class="line">      if (HASH_IS_REAL(_hashes[_i])) { \</div>
<div class="line">        if ((tab)-&gt;free_key) { \</div>
<div class="line">          (tab)-&gt;free_key(_keys[_i]); \</div>
<div class="line">        } \</div>
<div class="line">        if ((tab)-&gt;free_value) { \</div>
<div class="line">          (tab)-&gt;free_value(_values[_i]); \</div>
<div class="line">        } \</div>
<div class="line">      } \</div>
<div class="line">    } \</div>
<div class="line">    arr_free((tab)-&gt;keys); \</div>
<div class="line">    arr_free((tab)-&gt;values); \</div>
<div class="line">    arr_free((tab)-&gt;hashes); \</div>
<div class="line">    free(tab); \</div>
<div class="line">  } <span class="keywordflow">while</span> (0)</div>
</div><!-- fragment --><p >Giải phóng bộ nhớ được cấp phát cho bảng băm tab. Các hàm free_key và free_value được gọi cho từng khóa và từng giá trị nếu != NULL.</p>
<dl class="params"><dt>Các tham số</dt><dd>
  <table class="params">
    <tr><td class="paramname">tab</td><td>Con trỏ tới bảng băm. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a6567f6c8da98e8fcd12480dec2a94241" name="a6567f6c8da98e8fcd12480dec2a94241"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6567f6c8da98e8fcd12480dec2a94241">&#9670;&nbsp;</a></span>hmap_size</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define hmap_size</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">tab</td><td>)</td>
          <td>&#160;&#160;&#160;(tab-&gt;size)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Số lượng cặp khóa &amp; giá trị đang được lưu trong hmap.</p>
<dl class="params"><dt>Các tham số</dt><dd>
  <table class="params">
    <tr><td class="paramname">tab</td><td>Con trỏ tới đối tượng bảng băm. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Giá trị trả về</dt><dd>Trả về số lượng cặp khóa/giá trị đang được lưu trong tab. </dd></dl>

</div>
</div>
<a id="ad047126ca123a447c578be5b328f43de" name="ad047126ca123a447c578be5b328f43de"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad047126ca123a447c578be5b328f43de">&#9670;&nbsp;</a></span>hmap_traverse</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define hmap_traverse</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">key, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">value, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">map&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Giá trị:</b><div class="fragment"><div class="line">  <span class="keywordflow">for</span>(<a class="code hl_union" href="uniongeneric__type.html">gtype</a> *key = hmap_next_pkey(map, NULL), *value = hmap_next_pvalue(map, NULL); \</div>
<div class="line">     key &amp;&amp; value; key = hmap_next_pkey(map, key), value = hmap_next_pvalue(map, value)) \</div>
<div class="ttc" id="auniongeneric__type_html"><div class="ttname"><a href="uniongeneric__type.html">generic_type</a></div><div class="ttdef"><b>Definition:</b> gtype.h:19</div></div>
</div><!-- fragment --><p >Duyệt tuần tự các cặp khóa và giá trị trong map. Các tham số key và value là các định danh do người sử dụng tự đặt và sẽ có kiểu <a class="el" href="gtype_8h.html#a22df69f0a905ba3f8c833d29b2adfa46">gtype</a> *</p>
<dl class="params"><dt>Các tham số</dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td>Định danh sẽ được sử dụng như con trỏ tới khóa. </td></tr>
    <tr><td class="paramname">value</td><td>Định danh sẽ được sử dụng như giá trị tới khóa. </td></tr>
    <tr><td class="paramname">map</td><td>Con trỏ tới bảng băm.</td></tr>
  </table>
  </dd>
</dl>
<p>Tham khảo: <a class="el" href="rbm_8h.html#a8d92b3892d198487df705b4502e1af2f">rbm_traverse(k, v, map)</a> </p>

</div>
</div>
<h2 class="groupheader">Thông tin về Typedef</h2>
<a id="ad6ee48932dfc13546a3f665f60b5fa08" name="ad6ee48932dfc13546a3f665f60b5fa08"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad6ee48932dfc13546a3f665f60b5fa08">&#9670;&nbsp;</a></span>hmap_ires</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structhmap__insert__result.html">hmap_insert_result</a> <a class="el" href="hmap_8h.html#ad6ee48932dfc13546a3f665f60b5fa08">hmap_ires</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Kiểu trả về của hàm hmap_insert(hmap_t tab, gtype key, gtype value) </p>

</div>
</div>
<a id="a60bbc23f7cdd178d7b190a7a71744fae" name="a60bbc23f7cdd178d7b190a7a71744fae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a60bbc23f7cdd178d7b190a7a71744fae">&#9670;&nbsp;</a></span>hmap_s</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structhash__map.html">hash_map</a> <a class="el" href="hmap_8h.html#a60bbc23f7cdd178d7b190a7a71744fae">hmap_s</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Cấu trúc điều khiển đối tượng bảng băm. Được tạo bằng hàm hmap_create(gtype_hash_t hash_func, gtype_cmp_t cmp, gtype_free_t free_key, gtype_free_t free_value)</p>
<p >Các macro hỗ trợ: <a class="el" href="hmap_8h.html#a6567f6c8da98e8fcd12480dec2a94241">hmap_size(map)</a> - Kích thước của map <a class="el" href="hmap_8h.html#ad047126ca123a447c578be5b328f43de">hmap_traverse(k, v, map)</a> - Duyệt tuần tự các cặp trong map. </p>

</div>
</div>
<h2 class="groupheader">Thông tin về hàm</h2>
<a id="a17f8fb3aa19641419c5a383cb68ab481" name="a17f8fb3aa19641419c5a383cb68ab481"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a17f8fb3aa19641419c5a383cb68ab481">&#9670;&nbsp;</a></span>gtype_free_hmap()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gtype_free_hmap </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="gtype_8h.html#a22df69f0a905ba3f8c833d29b2adfa46">gtype</a>&#160;</td>
          <td class="paramname"><em>value</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Hàm giải phóng bộ nhớ cho trường hợp con trỏ tới đối tượng bảng bắm được lưu trong một cấu trúc lưu trữ khác.</p>
<dl class="params"><dt>Các tham số</dt><dd>
  <table class="params">
    <tr><td class="paramname">value</td><td>Giá trị gtype đang chứa con trỏ tới bảng băm. Trước tiên value.v được ép kiểu thành ::hmap_t, sau đó con trỏ ::hmap_t được truyền cho hmap_free. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Giá trị trả về</dt><dd>Hàm không trả về giá trị. </dd></dl>

</div>
</div>
<a id="a6ad0aeae30cec73fdbf3262ed0061183" name="a6ad0aeae30cec73fdbf3262ed0061183"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6ad0aeae30cec73fdbf3262ed0061183">&#9670;&nbsp;</a></span>hmap_clear()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void hmap_clear </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structhash__map.html">hmap_t</a>&#160;</td>
          <td class="paramname"><em>tab</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Làm rỗng bảng băm tab. Các hàm free_key và free_value được gọi cho các cặp khóa và giá trị nếu != NULL.</p>
<dl class="params"><dt>Các tham số</dt><dd>
  <table class="params">
    <tr><td class="paramname">tab</td><td>Con trỏ tới bảng băm. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Giá trị trả về</dt><dd>Hàm không trả về giá trị. </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Được biên soạn bởi&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2
</small></address>
</body>
</html>
